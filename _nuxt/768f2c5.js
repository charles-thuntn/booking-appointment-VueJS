(window.webpackJsonp=window.webpackJsonp||[]).push([[10,6],{466:function(e,t,n){"use strict";n.r(t);var r=n(481),l=n(444),o=n(464),c=n(438),d=n(436),v={props:{title:String,screen:{type:String,default:"LIST"}},setup:function(e){}},f=n(86),component=Object(f.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t(l.a,{attrs:{color:"grey lighten-4",flat:"",tile:""}},[t(c.a,{attrs:{color:"rgb(35 165 183)"}},["DETAIL"==e.screen?t(r.a,{staticClass:"hidden-xs-only",attrs:{icon:""},on:{click:function(t){return e.$router.push("/")}}},[t(o.a,[e._v("mdi-arrow-left")])],1):e._e(),e._v(" "),t(d.a,{staticStyle:{color:"white"}},[e._v(e._s(e.title))])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},492:function(e,t,n){"use strict";n.r(t);var r=n(531),l=n(518),o=n(535),c=n(530),d=n(529),v=n(442),f=n(90),m=(n(188),n(7),n(26),n(50),n(191),function(e){return e.getFullYear()+"-"+e.getMonth()+"1-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}),_=n(127),h={props:{doctor_id:[Number,String],doctor:{type:[Array,Object],default:function(){return[]}}},setup:function(e){var t=Object(_.e)("default"),n=Object(_.e)(""),r=Object(_.e)(""),l=Object(_.d)(["all","pending","approved","passed"]),o=Object(_.e)(0),c=Object(_.e)([]),d=Object(_.e)(null),v=Object(_.e)(null),h=Object(_.e)(null),O=Object(_.e)(null),y=Object(_.e)(null),j=Object(_.e)(null),D=Object(_.a)((function(){var t=null;return null!=e.doctor.appoitment_calendar&&null!=e.doctor.appoitment_calendar&&(e.doctor.appoitment_calendar.forEach((function(e){var n=new Date(e.start_time);null!=t?t>n&&(t=n):t=n})),t=t.getFullYear()+"-"+t.getMonth()+"1-"+t.getDate()),t})),S=function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute).getTime()},w=function(){var t=[];if(null!=e.doctor.appoitment_calendar&&null!=e.doctor.appoitment_calendar){for(var i=0;i<e.doctor.appoitment_calendar.length;i++){var r=e.doctor.appoitment_calendar[i];if(""!=n.value&&r.status===n.value||""==n.value){t.push({name:r.requester,color:r.color_code,start:Date.parse(r.start_time),end:Date.parse(r.end_time),timed:!0,id:r.appointment_id})}}c.value=t}};return{colorChip:t,valueFilter:n,value:r,listFilter:l,appointment_id_dragging:o,events:c,dragEvent:d,dragStart:v,dragTime:h,createEvent:O,createStart:y,extendOriginal:j,getStartDate:D,getTag:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},genColor:function(e){return"approved"===e?"green":"pending"===e?"pink":"passed"===e?"grey":void 0},startDrag:function(e){var t=e.event,n=e.timed;o.value=t.id,t&&n&&(d.value=t,h.value=null,j.value=null)},startTime:function(e){var t=S(e);if(d.value&&null===h.value){var n=d.value.start;h.value=t-n}},mouseMove:function(t){var n=S(t);if(d.value&&null!==h.value){var r=d.value.start,l=d.value.end-r,c=function(time){var e=9e5;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?time+(e-time%e):time-time%e}(n-h.value),v=c+l,f=new Date(c),_=m(f),O=new Date(v),y=m(O);null!=e.doctor.appoitment_calendar&&null!=e.doctor.appoitment_calendar&&e.doctor.appoitment_calendar.forEach((function(e){e.appointment_id==o.value&&(e.start_time=_,e.end_time=y)})),d.value.start=c,d.value.end=v}},endDrag:function(){if(h.value=null,d.value=null,O.value=null,y.value=null,j.value=null,null!=e.doctor.appoitment_calendar&&null!=e.doctor.appoitment_calendar){var t=localStorage.getItem("doctors");if(null!=t&&null!=t){var n=JSON.parse(t);n.forEach((function(t){t.doctor_id===e.doctor.doctor_id&&(t.appoitment_calendar=[],t.appoitment_calendar=Object(f.a)(e.doctor.appoitment_calendar))})),localStorage.setItem("doctors",JSON.stringify(n))}}o.value=0},cancelDrag:function(){if(O.value)if(j.value)O.value.end=j.value;else{var i=c.value.indexOf(O.value);-1!==i&&c.value.splice(i,1)}O.value=null,y.value=null,h.value=null,d.value=null},getEvents:w,handleFilter:function(e){"all"==e&&(e=""),n.value=e,w()}}}},O=h,y=n(86),component=Object(y.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"10px"}},[t("div",{staticStyle:{"margin-bottom":"10px"}},[t(v.a,{staticClass:"py-4 px-1",attrs:{elevation:"10"}},[t(o.a,{attrs:{"active-class":"primary--text",mandatory:""}},e._l(e.listFilter,(function(n){return t(l.a,{key:n,attrs:{"text-color":"white",color:e.genColor(n)},on:{click:function(t){return e.handleFilter(n)}}},[e._v("\n          "+e._s(e.getTag(n))+"\n        ")])})),1)],1)],1),e._v(" "),t(d.a,{staticClass:"fill-height"},[t(c.a,[t(v.a,{attrs:{height:"500"}},[t(r.a,{ref:"calendar",attrs:{color:"primary",type:"week",events:e.events,"event-ripple":!1,start:e.getStartDate},on:{change:e.getEvents,"mousedown:event":e.startDrag,"mousedown:time":e.startTime,"mousemove:time":e.mouseMove,"mouseup:time":e.endDrag},nativeOn:{mouseleave:function(t){return e.cancelDrag.apply(null,arguments)}},scopedSlots:e._u([{key:"event",fn:function(n){n.event,n.timed;var r=n.eventSummary;return[t("div",{staticClass:"v-event-draggable",domProps:{innerHTML:e._s(r())}})]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},533:function(e,t,n){"use strict";n.r(t);var r=n(19),l=(n(89),n(0)),o={asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,l,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,r=n.doctor_id,l=[],null!=(o=localStorage.getItem("doctors"))&&null!=o&&(l=JSON.parse(o)),c=l[r-1],t.abrupt("return",{doctor_id:r,doctor:c});case 7:case"end":return t.stop()}}),t)})))()},setup:function(e){var t=Object(l.j)("DETAIL");return{date:Object(l.a)((function(){var e=new Date;return e.getDate()+"/"+e.getMonth()+"1/"+e.getFullYear()})),screen:t}}},c=n(86),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("Header",{attrs:{title:"Lịch khám",screen:e.screen}}),e._v(" "),t("Calendar",{attrs:{doctor:e.doctor,doctor_id:e.doctor_id}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Header:n(466).default,Calendar:n(492).default})}}]);